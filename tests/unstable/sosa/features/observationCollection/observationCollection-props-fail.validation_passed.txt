=== Files ===
Using observationCollection-props-fail.json
JSON-LD context is present - uplifting
Output JSON-LD observationCollection-props-fail.jsonld created
Output Turtle observationCollection-props-fail.ttl created
=== End Files ===

=== JSON Schema ===
Validation passed
=== End JSON Schema ===

=== SHACL ===
Using SHACL files for validation:
 - unstable/sosa/_sources/features/observationCollection/rules.shacl
 - unstable/sosa/_sources/properties/observationCollection/rules.shacl

** Validation error **
Validation Report
Conforms: False
Results (3):
Constraint Violation in SPARQLConstraintComponent (http://www.w3.org/ns/shacl#SPARQLConstraintComponent):
	Severity: sh:Violation
	Source Shape: <http://example.com/rulestestInCollectionOrMember-observedProperty>
	Focus Node: <file:///github/workspace/pop1999>
	Value Node: <file:///github/workspace/pop1999>
	Result Path: sosa:observedProperty
	Source Constraint: [ <http://www.w3.org/ns/shacl#prefixes:> <http://www.w3.org/ns/sosa/> ; rdf:type sh:SPARQLConstraint ; sh:message Literal("Observations must either declare required properties or be a member of a collection hierarchy that declares them,") ; sh:select Literal("
        PREFIX dct: <http://purl.org/dc/terms/>
PREFIX rdfs:    <http://www.w3.org/2000/01/rdf-schema#>
prefix sosa:    <http://www.w3.org/ns/sosa/>

                SELECT $this ?path ?total
        WHERE {
  			BIND ( sosa:observedProperty as ?path )
           {
            SELECT $this ?path ( SUM(?count) as ?total )
            WHERE {
                      {
                          SELECT $this ?coll ?path ( COUNT(?prop1) AS ?count )
                          WHERE
                          {
                              ?coll sosa:hasMember* $this .
                              BIND ( sosa:observedProperty as ?path )
                              OPTIONAL { ?coll  ?path ?prop1 }
                          }
                          GROUP BY $this ?coll ?path
                       }

             }
              GROUP BY $this ?path
          }
          FILTER (?total = 0 )
	}

        ") ]
	Message: Observations must either declare required properties or be a member of a collection hierarchy that declares them,
Constraint Violation in MinCountConstraintComponent (http://www.w3.org/ns/shacl#MinCountConstraintComponent):
	Severity: sh:Violation
	Source Shape: [ sh:maxCount Literal("1", datatype=xsd:integer) ; sh:minCount Literal("1", datatype=xsd:integer) ; sh:path ( [ sh:zeroOrMorePath [ sh:inversePath sosa:hasMember ] ] sosa:phenomenonTime ) ]
	Focus Node: <file:///github/workspace/pop1999>
	Result Path: ( [ sh:zeroOrMorePath [ sh:inversePath sosa:hasMember ] ] sosa:phenomenonTime )
	Message: Less than 1 values on <file:///github/workspace/pop1999>->( [ sh:zeroOrMorePath [ sh:inversePath sosa:hasMember ] ] sosa:phenomenonTime )
Constraint Violation in MinCountConstraintComponent (http://www.w3.org/ns/shacl#MinCountConstraintComponent):
	Severity: sh:Violation
	Source Shape: [ sh:maxCount Literal("1", datatype=xsd:integer) ; sh:minCount Literal("1", datatype=xsd:integer) ; sh:path ( [ sh:zeroOrMorePath [ sh:inversePath sosa:hasMember ] ] sosa:observedProperty ) ]
	Focus Node: <file:///github/workspace/pop1999>
	Result Path: ( [ sh:zeroOrMorePath [ sh:inversePath sosa:hasMember ] ] sosa:observedProperty )
	Message: Less than 1 values on <file:///github/workspace/pop1999>->( [ sh:zeroOrMorePath [ sh:inversePath sosa:hasMember ] ] sosa:observedProperty )

Focus nodes:
 - Shape :testInCollectionOrMember-foi: <file:///github/workspace/pop1999>
 - Shape :testInCollectionOrMember-observedProperty: <file:///github/workspace/pop1999>
 - Shape <http://example.com/rules#testRequiredProperties>: <file:///github/workspace/pop1999>
 - Shape <http://example.com/rules#testRequiredProperties>/sh:property (path _:ndec1766e83d6436bbeb168b578176146b26): *none*
 - Shape <http://example.com/rules#testRequiredProperties>/sh:property (path _:ndec1766e83d6436bbeb168b578176146b4): *none*
 - Shape <http://example.com/rules#testRequiredProperties>/sh:property (path _:ndec1766e83d6436bbeb168b578176146b23): *none*
 - Shape <http://example.com/rules#testRequiredProperties>/sh:property (path _:ndec1766e83d6436bbeb168b578176146b9): *none*
 - Shape <http://example.com/rules#testRequiredProperties>/sh:property (path _:ndec1766e83d6436bbeb168b578176146b14): *none*

=== End SHACL ===

=== General ===
Test was expected to fail and it did.

=== End General ===

